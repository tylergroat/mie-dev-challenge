<%- include('partials/header.ejs') %>

  <div class="container">
    <h2>Edit Game</h2>
    <form action="/edit-game/<%= game.game_id %>" method="post">
      <label for="title">Title:</label>
      <input type="text" id="title" name="title" value="<%= game.title %>" required>

      <label for="description">Description:</label>
      <textarea id="description" name="description" rows="4" required><%= game.description %></textarea>

      <label for="minPlayers">Minimum Players:</label>
      <input type="number" id="minPlayers" name="minPlayers" value="<%= game.min_players %>" required>

      <label for="maxPlayers">Maximum Players:</label>
      <input type="number" id="maxPlayers" name="maxPlayers" value="<%= game.max_players %>" required>

      <button type="submit">Save Changes</button>
    </form>

    <!-- Delete confirmation popup -->
    <div id="deletePopup" style="display: none;">
      <p>Are you sure you want to delete this game?</p>
      <form action="/delete-game/<%= game.game_id %>" method="post">
        <button type="submit" style="color: red;">Yes, Delete Game</button>
      </form>
      <button onclick="closeDeletePopup()">Cancel</button>
    </div>

    <!-- Button to open the delete confirmation popup -->
    <button id="deleteButton" onclick="openDeletePopup()" style="color: red;">Delete Game</button>
  </div>

  <%- include('partials/footer.ejs') %>

    <script>
      // JavaScript functions to handle opening and closing the delete confirmation popup
      function openDeletePopup() {
        document.getElementById('deletePopup').style.display = 'block';
        document.getElementById('deleteButton').style.display = 'none';
      }

      function closeDeletePopup() {
        document.getElementById('deletePopup').style.display = 'none';
        document.getElementById('deleteButton').style.display = 'block';
      }
    </script>